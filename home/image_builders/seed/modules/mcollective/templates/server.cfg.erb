############################################
# WARNING:
# Managed by puppet - DO NOT modify locally.
############################################

topicprefix = /topic/
main_collective = <%= collective %>
collectives = <%= collective %>
identity = <%= scope.lookupvar('::fqdn') %>
libdir = /usr/share/mcollective/plugins
logfile = /var/log/mcollective.log
loglevel = info
# Rotate the main logfile weekly. audit log is rotated with logrotate
keeplogs = weekly
daemonize = 1
classesfile=/var/lib/puppet/state/classes.txt

# Plugins
securityprovider = ssl
plugin.ssl_server_private = /etc/mcollective/ssl/server-private.pem
plugin.ssl_server_public = /etc/mcollective/ssl/clients/server-public.pem
plugin.ssl_client_cert_dir = /etc/mcollective/ssl/clients/

connector = stomp
plugin.stomp.pool.size = 1
plugin.stomp.initial_reconnect_delay = 0.01
plugin.stomp.max_reconnect_delay = 5
plugin.stomp.use_exponential_back_off = true
plugin.stomp.back_off_multiplier = 2
plugin.stomp.max_reconnect_attempts = 0
plugin.stomp.randomize = false
plugin.stomp.timeout = -1
plugin.stomp.connect_timeout = 3

plugin.stomp.pool.host1 = <%= broker %>
plugin.stomp.pool.port1 = 6163
plugin.stomp.pool.user1 = mcollective
plugin.stomp.pool.password1 = marionette
plugin.stomp.pool.ssl1 = false


direct_addressing = 1
direct_addressing_threshold = 5

# Facts
factsource = yaml
plugin.yaml = /etc/mcollective/facts.yaml

# Auditing
rpcaudit = 1
rpcauditprovider = Logfile
plugin.rpcaudit.logfile = /var/log/mcollective-audit.log



